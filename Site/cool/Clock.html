<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vanilla Clock Grid</title>
<style>
/* === Your Original CSS === */
body {
  padding: 0;
  margin: 0;
}
*,
*::before,
*::after {
  box-sizing: border-box;
}
.app {
  --clock-size: 3vw;
  --gap: calc(var(--clock-size) * 0.05);
  --clock-segment-w: calc(var(--clock-size) * 4 + var(--gap) * 5);
  --clock-segment-h: calc(var(--clock-size) * 6 + var(--gap) * 5);
  font-family: sans-serif;
  text-align: center;
  display: flex;
  gap: var(--gap);
  align-items: center;
  justify-content: center;
  height: 100vh;
  padding-left: calc(var(--clock-size) + var(--gap) * 2);
}
.app > div {
  display: flex;
  flex-wrap: wrap;
  gap: var(--gap);
  width: var(--clock-segment-w);
  height: var(--clock-segment-h);
}
.app > div:nth-of-type(even) {
  margin-right: var(--clock-size);
}
.clock {
  --w: 47%;
  --h: 3px;
  --dur: 0.4s;
  position: relative;
  width: var(--clock-size);
  height: var(--clock-size);
  border-radius: 50%;
  flex-shrink: 0;
  border: 2px solid white;
  background: linear-gradient(225deg, #d0d0d0 10%, white);
  box-shadow: -2px 2px 6px #d0d0d0, 2px -2px 6px #ffffff;
}
.clock::before,
.clock::after {
  position: absolute;
  content: '';
  top: calc(50% - var(--h) * 0.5);
  left: 50%;
  transform-origin: 0% 50%;
  width: var(--w);
  height: var(--h);
  background: black;
  border-radius: 9999px;
  transition: calc(var(--dur) * 1s) ease-in-out;
  transform: rotate(calc(var(--angle) * 1deg));
}
.clock::before { --angle: var(--hour-angle); }
.clock::after { --angle: var(--minute-angle); }
@media (max-width: 700px) {
  .clock { --h: 2px; border: 1px solid white; }
}
@media (max-width: 500px) {
  .clock { --h: 1px; --w: 50%; }
}
</style>
</head>
<body>
  <div id="root"></div>
<script>
/* === Vanilla JS Equivalent === */

// Define the clock segment orientations
const H  = { h: 0,   m: 180 },
      V  = { h: 270, m: 90 },
      TL = { h: 180, m: 270 },
      TR = { h: 0,   m: 270 },
      BL = { h: 180, m: 90 },
      BR = { h: 0,   m: 90 },
      E  = { h: 135, m: 135 };

const digits = [
  [BR,H,H,BL, V,BR,BL,V, V,V,V,V, V,V,V,V, V,TR,TL,V, TR,H,H,TL],
  [BR,H,BL,E, TR,BL,V,E, E,V,V,E, E,V,V,E, BR,TL,TR,BL, TR,H,H,TL],
  [BR,H,H,BL, TR,H,BL,V, BR,H,TL,V, V,BR,H,TL, V,TR,H,BL, TR,H,H,TL],
  [BR,H,H,BL, TR,H,BL,V, E,BR,TL,V, E,TR,BL,V, BR,H,TL,V, TR,H,H,TL],
  [BR,BL,BR,BL, V,V,V,V, V,TR,TL,V, TR,H,BL,V, E,E,V,V, E,E,TR,TL],
  [BR,H,H,BL, V,BR,H,TL, V,TR,H,BL, TR,H,BL,V, BR,H,TL,V, TR,H,H,TL],
  [BR,H,H,BL, V,BR,H,TL, V,TR,H,BL, V,BR,BL,V, V,TR,TL,V, TR,H,H,TL],
  [BR,H,H,BL, TR,H,BL,V, E,E,V,V, E,E,V,V, E,E,V,V, E,E,TR,TL],
  [BR,H,H,BL, V,BR,BL,V, V,TR,TL,V, V,BR,BL,V, V,TR,TL,V, TR,H,H,TL],
  [BR,H,H,BL, V,BR,BL,V, V,TR,TL,V, TR,H,BL,V, BR,H,TL,V, TR,H,H,TL]
];

const normalizeAngle = (next, prev) => {
  const delta = ((next - prev) % 360 + 360) % 360;
  return prev + delta;
};

const getTimeDigits = () => {
  const now = new Date();
  return [
    now.getHours(),
    now.getMinutes(),
    now.getSeconds()
  ].flatMap(val => String(val).padStart(2, "0").split("").map(Number));
};

const randomAngle = () => Math.floor(Math.random() * 360);

// Create one clock element
function createClock(h, m, initial) {
  const el = document.createElement("div");
  el.className = "clock";
  el.style.setProperty("--hour-angle", initial ? randomAngle() : h);
  el.style.setProperty("--minute-angle", initial ? randomAngle() : m);
  el.style.setProperty("--dur", initial ? 1 : 0.4);
  return el;
}

// Build app
const root = document.getElementById("root");
const app = document.createElement("div");
app.className = "app";
root.appendChild(app);

// Keep track of previous angles for smooth transitions
let prevAngles = Array(6 * 24).fill({ h: 0, m: 0 });
let timeDigits = Array(6).fill(0);
let initial = true;

// Build initial DOM structure
function render(initial) {
  app.innerHTML = "";
  timeDigits.forEach((t, i) => {
    const digitWrap = document.createElement("div");
    digits[t].forEach(({ h, m }, j) => {
      const prev = prevAngles[i * 24 + j] || { h: 0, m: 0 };
      const hourAngle = normalizeAngle(h, prev.h);
      const minuteAngle = normalizeAngle(m, prev.m);
      prevAngles[i * 24 + j] = { h: hourAngle, m: minuteAngle };
      digitWrap.appendChild(createClock(hourAngle, minuteAngle, initial));
    });
    app.appendChild(digitWrap);
  });
}

// Time updater
function updateClock() {
  timeDigits = getTimeDigits();
  render(false);
  const now = Date.now();
  const delay = 1000 - (now % 1000);
  setTimeout(updateClock, delay);
}

// Initial animation then start ticking
setTimeout(() => {
  initial = false;
  updateClock();
}, 600);

// Initial render
render(true);
</script>
</body>
</html>
