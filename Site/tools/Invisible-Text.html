<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Absolutely not the #1 Website. AND IS COMPLTY USELESS.">
<title>Blue-Cube â€¢ Five2357</title>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<script src="https://kit.fontawesome.com/b44b8a57e7.js" crossorigin="anonymous"></script>
<link rel="stylesheet" href="styles.css"> <!-- use original site styles -->
</head>
<body>
<header>
<h1>
  <a href="/" style="text-decoration: none; color: inherit; display:flex; align-items:center; gap:0.5rem;">
    <img src="favicon.ico" alt="BlueCube Logo" width="48" height="48">
    BlueCube
  </a>
</h1>
<nav>
    <a href="/"><i class="fa-solid fa-home"></i> Home</a>
    <a href="https://github.com/Five_2357"><i class="fa-brands fa-github"></i> GitHub</a>
    <a href="#"><i class="fa-brands fa-discord"></i> Discord</a>
    <button id="themeToggle" class="theme-toggle"><i class="fa-solid fa-wind"></i> Theme</button>
</nav>
</header>

<main style="max-width:1200px;"> <!-- expanded width -->
    <h1><i class="fa-solid fa-door-open"></i> Hidden Message Encoder</h1>
    <div class="encoder-body" style="display:flex; flex-direction:column; align-items:center;">
        <label>Type your secret message:</label>
        <textarea id="inputMessage" placeholder="Your message here..." style="width:90%; max-width:800px; height:80px;"></textarea>

        <label>Output mode:</label>
        <select id="modeSelect" style="width:90%; max-width:800px;">
            <option value="invisible">Invisible (0-width)</option>
            <option value="box">Box preview ðŸª±</option>
        </select>
        <button onclick="encodeMessage()">Encode</button>

        <label>Output:</label>
        <div id="outputInvisible" class="output-box" title="Copy this text" style="width:90%; max-width:800px;"></div>
        <select id="outputType" style="width:90%; max-width:800px; margin-top:5px;">
            <option value="invisible">Invisible</option>
            <option value="box">Box preview</option>
        </select>
        <button class="copy-btn" onclick="copyOutput()">Copy Output</button>

        <hr style="width:90%; margin:20px 0; border:1px solid #111;">

        <label>Paste text here to decode:</label>
        <textarea id="inputInvisible" placeholder="Paste hidden text..." style="width:90%; max-width:800px; height:80px;"></textarea>
        <select id="decodeType" style="width:90%; max-width:800px; margin-top:5px;">
            <option value="invisible">Invisible</option>
            <option value="box">Box preview</option>
        </select>
        <button onclick="decodeMessage()">Decode</button>

        <label>Decoded Message:</label>
        <textarea id="decodedMessage" placeholder="Decoded message appears here..." style="width:90%; max-width:800px; height:80px;"></textarea>
        <button class="copy-btn" onclick="copyDecoded()">Copy Decoded</button>
    </div>
</main>

<footer>
    <p>&copy; 2025 BlueCube</p>
    <h6>This is BlueCube a project by Five_2357</h6>
</footer>

<script>
const toggleBtn = document.getElementById("themeToggle");
function applyTheme(theme){
    document.body.classList.toggle("dark", theme === "dark");
    localStorage.setItem("theme", theme);
}
const savedTheme = localStorage.getItem("theme");
if(savedTheme){ applyTheme(savedTheme); }
else{ applyTheme(window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark":"light"); }
toggleBtn.addEventListener("click", ()=>{ applyTheme(document.body.classList.contains("dark") ? "light":"dark"); });

// Hidden Message Encoder logic
const Z0='\u200B', Z1='\u200C', BOX='ðŸª±';
function encodeMessage(){
    const msg=document.getElementById('inputMessage').value;
    const mode=document.getElementById('modeSelect').value;
    const bytes=new TextEncoder().encode(msg);
    let bits=''; for(const byte of bytes) bits+=byte.toString(2).padStart(8,'0');
    const invisible=bits.split('').map(b=>b==='0'?Z0:Z1).join('');
    const outputDiv=document.getElementById('outputInvisible');
    outputDiv.dataset.hidden=invisible;
    document.getElementById('outputType').value=mode;
    outputDiv.textContent=mode==='box'? invisible.replace(/[\u200B\u200C]/g,BOX):invisible;
}
function decodeMessage(){
    let input=document.getElementById('inputInvisible').value;
    const mode=document.getElementById('decodeType').value;
    if(mode==='box') input=input.replace(new RegExp(BOX,'g'),Z0);
    const bits=[...input].filter(ch=>ch===Z0||ch===Z1).map(ch=>ch===Z0?'0':'1').join('');
    const bytes=bits.match(/.{1,8}/g)||[];
    const arr=new Uint8Array(bytes.map(b=>parseInt(b,2)));
    document.getElementById('decodedMessage').value=new TextDecoder().decode(arr);
}
function copyOutput(){ navigator.clipboard.writeText(document.getElementById('outputInvisible').dataset.hidden||'').then(()=>alert("Output copied!")); }
function copyDecoded(){ navigator.clipboard.writeText(document.getElementById('decodedMessage').value).then(()=>alert("Decoded message copied!")); }
</script>
</body>
</html>
